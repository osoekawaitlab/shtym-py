
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AI-powered summary filter that distills any command's output">
      
      
      
        <link rel="canonical" href="https://github.com/osoekawaitlab/shtym-py/profiles/">
      
      
        <link rel="prev" href="../configuration/">
      
      
        <link rel="next" href="../roadmap/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Profiles - shtym</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#profiles" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="shtym" class="md-header__button md-logo" aria-label="shtym" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            shtym
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Profiles
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/osoekawaitlab/shtym-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    osoekawaitlab/shtym-py
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../configuration/" class="md-tabs__link">
        
  
  
    
  
  Configuration

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Profiles

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../roadmap/" class="md-tabs__link">
        
  
  
    
  
  Roadmap

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../development/" class="md-tabs__link">
        
  
  
    
  
  Development

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../architecture/overview/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="shtym" class="md-nav__button md-logo" aria-label="shtym" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    shtym
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/osoekawaitlab/shtym-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    osoekawaitlab/shtym-py
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-are-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Are Profiles?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Configuration File
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-profile-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Profile Syntax
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Profile Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fields
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Profiles
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Profiles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-summary-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Summary Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-error-extraction-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Error Extraction Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-translation-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Translation Profile
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Profiles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overriding-the-default-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overriding the Default Profile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Profiles
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Profiles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specify-profile-explicitly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Specify Profile Explicitly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-default-profile-implicitly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Default Profile Implicitly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-selection-priority" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Selection Priority
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graceful Degradation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-use-descriptive-profile-names" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Use Descriptive Profile Names
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-match-model-power-to-task-complexity" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Match Model Power to Task Complexity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-keep-prompts-focused" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Keep Prompts Focused
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-test-profiles-before-committing" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Test Profiles Before Committing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profile-not-working" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Not Working
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile File Location
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-active-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Viewing Active Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cicd-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        CI/CD Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multilingual-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multilingual Support
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Records
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Records
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0000-adr-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0000: This is ADR Template and Short Title of the Architectural Decision Goes Here
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0001-keep-stdout-clean-for-ai-and-human-consumption/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0001: Keep stdout Clean for AI and Human Consumption
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0002-use-argparse-for-cli-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0002: Use argparse for CLI Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0003-adopt-layered-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0003: Adopt Layered Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0004-do-not-implement-stdin-pipe-mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0004: Do Not Implement Stdin Pipe Mode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0005-inherit-child-process-exit-codes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0005: Inherit Child Process Exit Codes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0006-adopt-subcommand-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0006: Adopt Subcommand Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0007-introduce-filter-abstraction-for-output-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0007: Introduce Filter Abstraction for Output Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0008-introduce-llm-client-abstraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0008: Introduce LLM Client Abstraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0009-silent-fallback-to-passthrough-filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0009: Silent Fallback to PassThrough Filter on Model Unavailability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0010-introduce-profile-as-core-domain-object/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0010: Introduce Profile as Core Domain Object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0011-silent-fallback-on-profile-not-found/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0011: Silent Fallback on Profile Not Found
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0012-adopt-repository-pattern-for-profile-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0012: Adopt Repository Pattern for Profile Access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0013-rename-filter-to-processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0013: Rename Filter to Processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0014-introduce-processor-factory-functions-in-domain-layer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0014: Introduce Processor Factory Functions in Domain Layer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0015-adopt-factory-pattern-for-profile-to-processor-conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0015: Adopt Factory Pattern for Profile-to-Processor Conversion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0016-use-dynamic-module-loading-for-llm-client-creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0016: Use Dynamic Module Loading for LLM Client Creation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr/0017-use-custom-exception-hierarchy-for-infrastructure-errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR 0017: Use Custom Exception Hierarchy for Infrastructure Errors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-are-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Are Profiles?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Configuration File
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-profile-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Profile Syntax
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Profile Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fields
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Profiles
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Profiles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-summary-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Summary Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-error-extraction-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Error Extraction Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-translation-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Translation Profile
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Profiles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overriding-the-default-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overriding the Default Profile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Profiles
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Profiles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specify-profile-explicitly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Specify Profile Explicitly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-default-profile-implicitly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Default Profile Implicitly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-selection-priority" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Selection Priority
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graceful Degradation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-use-descriptive-profile-names" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Use Descriptive Profile Names
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-match-model-power-to-task-complexity" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Match Model Power to Task Complexity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-keep-prompts-focused" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Keep Prompts Focused
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-test-profiles-before-committing" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Test Profiles Before Committing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profile-not-working" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Not Working
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile File Location
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-active-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Viewing Active Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cicd-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        CI/CD Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development Profile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multilingual-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multilingual Support
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="profiles">Profiles<a class="headerlink" href="#profiles" title="Permanent link">&para;</a></h1>
<p>Profiles allow you to define custom output transformation behaviors for different use cases. Instead of relying solely on environment variables, you can create named profiles with specific LLM settings and prompt templates.</p>
<h2 id="what-are-profiles">What Are Profiles?<a class="headerlink" href="#what-are-profiles" title="Permanent link">&para;</a></h2>
<p>A profile is a named configuration that defines:</p>
<ul>
<li><strong>System prompt template</strong>: Context and instructions for the LLM (recommended: keep concise)</li>
<li><strong>User prompt template</strong>: Template for command output and user message</li>
<li><strong>LLM settings</strong>: Model name and server URL to use</li>
<li><strong>Processing behavior</strong>: How command output should be transformed</li>
</ul>
<p>Profiles enable you to:</p>
<ul>
<li>Use different LLM models for different tasks (e.g., fast model for summaries, powerful model for analysis)</li>
<li>Apply task-specific prompts (e.g., "summarize", "translate", "extract errors")</li>
<li>Switch between configurations without changing environment variables</li>
</ul>
<h2 id="profile-configuration-file">Profile Configuration File<a class="headerlink" href="#profile-configuration-file" title="Permanent link">&para;</a></h2>
<p>Profiles are defined in a TOML file located at:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>~/.config/shtym/profiles.toml
</code></pre></div>
<p>If this file doesn't exist, shtym uses the built-in default profile that reads from environment variables (see <a href="../configuration/">Configuration</a>).</p>
<h2 id="basic-profile-syntax">Basic Profile Syntax<a class="headerlink" href="#basic-profile-syntax" title="Permanent link">&para;</a></h2>
<p>A profile definition has the following structure:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">[profiles.</span><span class="err">&lt;</span><span class="k">profile_name</span><span class="err">&gt;</span><span class="k">]</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;system instructions&gt;&quot;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;user message template&gt;&quot;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="k">[profiles.</span><span class="err">&lt;</span><span class="k">profile_name</span><span class="err">&gt;</span><span class="k">.llm_settings]</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;model name&gt;&quot;</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;ollama server URL&gt;&quot;</span>
</code></pre></div>
<h3 id="fields">Fields<a class="headerlink" href="#fields" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>type</code></strong>: Must be <code>"llm"</code> (currently the only supported type)</li>
<li><strong><code>version</code></strong>: Profile schema version (currently <code>1</code>, optional with default)</li>
<li><strong><code>system_prompt_template</code></strong>: Template for system prompt (sets LLM context)<ul>
<li>Available variables: <code>$command</code>, <code>$stdout</code>, <code>$stderr</code></li>
<li><strong>Best practice</strong>: Keep concise; avoid <code>$stdout</code> for long outputs</li>
<li>Example: <code>"You are summarizing output from: $command"</code></li>
</ul>
</li>
<li><strong><code>user_prompt_template</code></strong>: Template for user message (contains command output)<ul>
<li>Available variables: <code>$command</code>, <code>$stdout</code>, <code>$stderr</code></li>
<li>Example: <code>"Output:\n$stdout\n\nErrors:\n$stderr"</code></li>
</ul>
</li>
<li><strong><code>model_name</code></strong>: Ollama model to use (e.g., <code>"gpt-oss:20b"</code>, <code>"llama2"</code>)</li>
<li><strong><code>base_url</code></strong>: Ollama server URL (e.g., <code>"http://localhost:11434"</code>)</li>
</ul>
<h2 id="creating-profiles">Creating Profiles<a class="headerlink" href="#creating-profiles" title="Permanent link">&para;</a></h2>
<h3 id="example-summary-profile">Example: Summary Profile<a class="headerlink" href="#example-summary-profile" title="Permanent link">&para;</a></h3>
<p>Create a profile for summarizing command output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">[profiles.summary]</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Summarize output from: $command&quot;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Provide a 2-3 sentence summary.</span><span class="se">\n\n</span><span class="s2">$stdout&quot;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">[profiles.summary.llm_settings]</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>summary<span class="w"> </span>pytest<span class="w"> </span>tests/
</code></pre></div>
<h3 id="example-error-extraction-profile">Example: Error Extraction Profile<a class="headerlink" href="#example-error-extraction-profile" title="Permanent link">&para;</a></h3>
<p>Create a profile that extracts only errors:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">[profiles.errors]</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Extract errors from: $command&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;List only the errors.</span><span class="se">\n\n</span><span class="s2">Output:</span><span class="se">\n</span><span class="s2">$stdout</span><span class="se">\n\n</span><span class="s2">Errors:</span><span class="se">\n</span><span class="s2">$stderr&quot;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="k">[profiles.errors.llm_settings]</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:120b&quot;</span><span class="w">  </span><span class="c1"># Use more powerful model for accuracy</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>errors<span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>build
</code></pre></div>
<h3 id="example-translation-profile">Example: Translation Profile<a class="headerlink" href="#example-translation-profile" title="Permanent link">&para;</a></h3>
<p>Create a profile for translating output to another language:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">[profiles.translate-ja]</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Translate to Japanese: $command&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="k">[profiles.translate-ja.llm_settings]</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llama2&quot;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>translate-ja<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, world!&quot;</span>
</code></pre></div>
<h2 id="multiple-profiles">Multiple Profiles<a class="headerlink" href="#multiple-profiles" title="Permanent link">&para;</a></h2>
<p>You can define multiple profiles in the same file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">[profiles.summary]</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Summarize: $command&quot;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="k">[profiles.summary.llm_settings]</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">[profiles.detailed]</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Provide detailed analysis: $command&quot;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="k">[profiles.detailed.llm_settings]</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:120b&quot;</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="k">[profiles.fast]</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Quick summary: $command&quot;</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="k">[profiles.fast.llm_settings]</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gemma3:4b&quot;</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<p>Switch between profiles using <code>--profile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Use fast profile for quick feedback</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>fast<span class="w"> </span>pytest<span class="w"> </span>tests/
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1"># Use detailed profile for thorough analysis</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>detailed<span class="w"> </span>ruff<span class="w"> </span>check<span class="w"> </span>.
</code></pre></div>
<h2 id="overriding-the-default-profile">Overriding the Default Profile<a class="headerlink" href="#overriding-the-default-profile" title="Permanent link">&para;</a></h2>
<p>The default profile is used when <code>--profile</code> is not specified:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Uses default profile</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>stym<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/
</code></pre></div>
<p>By default, this uses the built-in profile that reads from environment variables. You can override it by defining a <code>default</code> profile in <code>profiles.toml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">[profiles.default]</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Summarize concisely: $command&quot;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="k">[profiles.default.llm_settings]</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<p>After defining this, <code>stym run</code> without <code>--profile</code> will use your custom default settings instead of environment variables.</p>
<h2 id="using-profiles">Using Profiles<a class="headerlink" href="#using-profiles" title="Permanent link">&para;</a></h2>
<h3 id="specify-profile-explicitly">Specify Profile Explicitly<a class="headerlink" href="#specify-profile-explicitly" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Use named profile</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>summary<span class="w"> </span>pytest<span class="w"> </span>tests/
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1"># Use default profile (explicit)</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>default<span class="w"> </span>ruff<span class="w"> </span>check<span class="w"> </span>.
</code></pre></div>
<h3 id="use-default-profile-implicitly">Use Default Profile Implicitly<a class="headerlink" href="#use-default-profile-implicitly" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Uses default profile (from profiles.toml or built-in)</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>stym<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/
</code></pre></div>
<h3 id="profile-selection-priority">Profile Selection Priority<a class="headerlink" href="#profile-selection-priority" title="Permanent link">&para;</a></h3>
<ol>
<li><strong><code>--profile</code> option</strong>: If specified, uses the named profile from <code>profiles.toml</code></li>
<li><strong>Default profile in <code>profiles.toml</code></strong>: If <code>[profiles.default]</code> exists, uses it when <code>--profile</code> is not specified</li>
<li><strong>Built-in default</strong>: Uses environment variables (<code>SHTYM_LLM_SETTINGS__*</code>) as fallback</li>
</ol>
<h2 id="graceful-degradation">Graceful Degradation<a class="headerlink" href="#graceful-degradation" title="Permanent link">&para;</a></h2>
<p>Following shtym's philosophy of graceful degradation:</p>
<ul>
<li><strong>Missing profile file</strong>: Falls back to built-in default (environment variables)</li>
<li><strong>Invalid TOML syntax</strong>: Behaves as if no profiles are defined (silent fallback)</li>
<li><strong>Profile not found</strong>: Falls back to PassThrough mode (no error)</li>
<li><strong>Model unavailable</strong>: Falls back to PassThrough mode (outputs original command result)</li>
</ul>
<p>This ensures shtym never fails due to configuration issues.</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-use-descriptive-profile-names">1. Use Descriptive Profile Names<a class="headerlink" href="#1-use-descriptive-profile-names" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Good: Clear purpose</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">[profiles.test-summary]</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="k">[profiles.error-extractor]</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="k">[profiles.translate-ja]</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c1"># Avoid: Unclear purpose</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="k">[profiles.profile1]</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="k">[profiles.temp]</span>
</code></pre></div>
<h3 id="2-match-model-power-to-task-complexity">2. Match Model Power to Task Complexity<a class="headerlink" href="#2-match-model-power-to-task-complexity" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Simple summarization: Use faster model</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="k">[profiles.quick-summary]</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;One sentence summary: $command&quot;</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="k">[profiles.quick-summary.llm_settings]</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gemma3:4b&quot;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="c1"># Complex analysis: Use powerful model</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="k">[profiles.deep-analysis]</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Comprehensive analysis: $command&quot;</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Provide recommendations.</span><span class="se">\n\n</span><span class="s2">$stdout&quot;</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="k">[profiles.deep-analysis.llm_settings]</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:120b&quot;</span>
</code></pre></div>
<h3 id="3-keep-prompts-focused">3. Keep Prompts Focused<a class="headerlink" href="#3-keep-prompts-focused" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Good: Specific instruction</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Extract error messages and line numbers: $command&quot;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="c1"># Avoid: Too vague</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Do something with this: $command&quot;</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
</code></pre></div>
<h3 id="4-test-profiles-before-committing">4. Test Profiles Before Committing<a class="headerlink" href="#4-test-profiles-before-committing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Create test profile</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;[profiles.test]</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="s1">type = &quot;llm&quot;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="s1">system_prompt_template = &quot;Test: $command&quot;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="s1">user_prompt_template = &quot;$stdout&quot;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="s1">[profiles.test.llm_settings]</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="s1">model_name = &quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="s1">base_url = &quot;http://localhost:11434&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.config/shtym/profiles.toml
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="c1"># Test it</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span><span class="nb">test</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, world!&quot;</span>
</code></pre></div>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="profile-not-working">Profile Not Working<a class="headerlink" href="#profile-not-working" title="Permanent link">&para;</a></h3>
<p><strong>Symptom</strong>: Profile seems ignored; output is not transformed</p>
<p><strong>Possible causes</strong>:</p>
<ol>
<li>TOML syntax error  Check file with TOML validator</li>
<li>Profile name mismatch  Verify <code>--profile</code> matches <code>[profiles.&lt;name&gt;]</code></li>
<li>Ollama server not running  Start Ollama: <code>ollama serve</code></li>
<li>Model not available  Pull model: <code>ollama pull &lt;model_name&gt;</code></li>
</ol>
<p><strong>Debug steps</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Verify TOML syntax</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>python3<span class="w"> </span>-<span class="w"> </span><span class="s">&lt;&lt;&#39;PY&#39;</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="s">import sys</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="s">from pathlib import Path</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="s">if sys.version_info &gt;= (3, 11):</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="s">    import tomllib</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="s">else:</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="s">    import tomli as tomllib</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="s">with open(Path.home() / &quot;.config&quot; / &quot;shtym&quot; / &quot;profiles.toml&quot;, &quot;rb&quot;) as f:</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="s">    tomllib.load(f)</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="s">print(&quot;OK&quot;)</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="s">PY</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="c1"># Check Ollama server</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>curl<span class="w"> </span>http://localhost:11434/api/tags
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="c1"># Test with built-in default</span>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>stym<span class="w"> </span>run<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;test&quot;</span>
</code></pre></div>
<h3 id="profile-file-location">Profile File Location<a class="headerlink" href="#profile-file-location" title="Permanent link">&para;</a></h3>
<p><strong>Linux/macOS</strong>: <code>~/.config/shtym/profiles.toml</code></p>
<p><strong>Example</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Create directory if it doesn&#39;t exist</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.config/shtym
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c1"># Edit profiles</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>nano<span class="w"> </span>~/.config/shtym/profiles.toml
</code></pre></div>
<h3 id="viewing-active-configuration">Viewing Active Configuration<a class="headerlink" href="#viewing-active-configuration" title="Permanent link">&para;</a></h3>
<p>Currently shtym does not have a command to show active profiles. This may be added in a future version.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<h3 id="cicd-profile">CI/CD Profile<a class="headerlink" href="#cicd-profile" title="Permanent link">&para;</a></h3>
<p>For continuous integration environments where you want concise summaries:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">[profiles.ci]</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Summarize test results, highlight failures: $command&quot;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="k">[profiles.ci.llm_settings]</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://ci-ollama.internal:11434&quot;</span>
</code></pre></div>
<p>Usage in CI:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>stym<span class="w"> </span>run<span class="w"> </span>--profile<span class="w"> </span>ci<span class="w"> </span>pytest<span class="w"> </span>--verbose<span class="w"> </span>tests/
</code></pre></div>
<h3 id="development-profile">Development Profile<a class="headerlink" href="#development-profile" title="Permanent link">&para;</a></h3>
<p>For local development with detailed feedback:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">[profiles.dev]</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Analyze and suggest improvements: $command&quot;</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="k">[profiles.dev.llm_settings]</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:120b&quot;</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<h3 id="multilingual-support">Multilingual Support<a class="headerlink" href="#multilingual-support" title="Permanent link">&para;</a></h3>
<p>Define profiles for different languages:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">[profiles.ja]</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;: $command&quot;</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="k">[profiles.ja.llm_settings]</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="k">[profiles.en]</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;llm&quot;</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="n">system_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Summarize the following output in English: $command&quot;</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="n">user_prompt_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$stdout&quot;</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="k">[profiles.en.llm_settings]</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="n">model_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gpt-oss:20b&quot;</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost:11434&quot;</span>
</code></pre></div>
<h2 id="future-enhancements">Future Enhancements<a class="headerlink" href="#future-enhancements" title="Permanent link">&para;</a></h2>
<p>The profile system will continue to evolve. Planned features include:</p>
<ul>
<li><strong>Environment variable expansion</strong>: Use <code>${VAR_NAME}</code> syntax in profiles for secrets and per-environment values</li>
<li><strong>Project-local profiles</strong>: Place profiles in <code>.shtym/profiles.toml</code> for team-shared configurations</li>
<li><strong>Additional LLM providers</strong>: OpenAI, Anthropic (Claude), Azure OpenAI Service support</li>
<li><strong>Azure Key Vault integration</strong>: Fetch secrets using <code>akv://vault-name/secret-name</code> URI scheme via envresolve</li>
</ul>
<p>See the <a href="../roadmap/">Roadmap</a> for details and priorities.</p>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../configuration/">Configuration</a> - Environment variable configuration</li>
<li><a href="../roadmap/">Roadmap</a> - Planned features and enhancements</li>
<li><a href="../development/">Development Guide</a> - Contributing to shtym</li>
<li><a href="../architecture/overview/">Architecture Overview</a> - Design decisions behind profiles</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>